<!DOCTYPE html SYSTEM "about:legacy-compat">
<html manifest="pamflet.manifest">
      <head>
        <title>GeoTrellis — Raster data types and data conversions</title>
        <link type="text/css" media="screen, projection" rel="stylesheet" href="css/blueprint/screen.css"></link>
        <link type="text/css" media="screen and (min-device-width: 800px), projection" rel="stylesheet" href="css/blueprint/grid.css"></link>
        <link type="text/css" media="print" rel="stylesheet" href="css/blueprint/print.css"></link> 
        <!--[if lt IE 8]>
          <link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"/>
        <![endif]-->
        <link type="text/css" media="screen, projection" rel="stylesheet" href="css/pamflet.css"></link>
        <link type="text/css" media="print" rel="stylesheet" href="css/pamflet-print.css"></link>
        <link type="text/css" media="screen and (min-device-width: 800px), projection" rel="stylesheet" href="css/pamflet-grid.css"></link>
        <link type="text/css" media="screen, projection" rel="stylesheet" href="css/custom.css"></link>
        <script src="js/jquery-1.6.2.min.js"></script>
        <script src="js/jquery.collapse.js"></script>
        <script src="js/pamflet.js"></script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><script type="text/javascript" src="js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"></link><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        
      </head>
      <body>
        <a class="page prev nav" href="Parallel+and+distributed+execution.html">
            <span class="space">&nbsp;</span>
            <span class="flip">&gt;</span>
          </a><a class="page next nav" href="Contents+in+Depth.html">
            <span class="space">&nbsp;</span>
            <span>&gt;</span>
          </a>
        <div class="container">
          <div class="span-16 prepend-1 append-1">
            <div class="top nav span-16 title">
              <span>GeoTrellis</span> — Raster data types and data conversions
            </div>
          </div>
          <div class="span-16 prepend-1 append-1 contents">
            <h2 id="Raster+data+types+and+data+conversions">Raster data types and data conversions</h2><h4 id="Data+Types">Data Types</h4><p>GeoTrellis currently supports six basic types of raster data:
</p><ul><li>boolean: 1-bit true (1) or false (0)
</li><li>byte: signed 8-bit integer
</li><li>short: signed 16-bit integer
</li><li>int: signed 32-bit integer
</li><li>float: 32-bit floating point
</li><li>double: 64-bit floating point
</li></ul><p>The size (in bits) represents the amount of data used on the filesystem or in
memory by each cell. Raster sizes can usually be estimated by the following
equation:
</p><pre><code>bits = rows * columns * size-per-cell
bytes = bits / 8
megabytes = bytes / 1,048,576
</code></pre><p>Using this formula, a 3000 x 2000 raster of boolean cells would use 750K, but a
1000 x 1000 double raster would require 64M of space (each double value
requires 512 times as much space as a boolean).
</p><h4 id="Calculation+Types">Calculation Types</h4><p>No matter what the underlying data type is, all rasters support both integral
and floating-point calculations. All integral calculations are done in terms of
<code>Int</code> and all floating-point calculations are done in terms of <code>Double</code>.
Calculations resulting in data which cannot be exactly represented in the
underlying type will be truncated or otherwise reduced. If this behavior is not
desired, manual conversions to a wider type can be performed. 
</p><p>Some calculations will use the raster’s underlying type while others will
specify a particular type. For instance, bitwise operations will always occur
on a cell’s integer value.
</p><h4 id="Conversions+Between+Types">Conversions Between Types</h4><p>With a few exceptions, rasters retain their underlying type across operations,
and must be explicitly converted to new types in some cases. GeoTrellis
optimizes these conversions by performing them lazily. For instance:
</p><pre><code class="prettyprint lang-scala">// Raster contains Int values.
val raster = server.run(rasterOp)

// Apply conversion to Double.
val converted = raster.convert(TypeDouble)

// No data has been converted yet; future operations will apply conversion.

// result contains Double values.
val result = converted.map(_ * 0.3)
</code></pre><p>Along with other forms of laziness, this strategy avoids allocating
intermediate raster objects, conserving memory and allowing faster execution.
</p><div class="bottom nav end"></div><div class="tocwrapper show">
      <a class="tochead nav" style="display: none" href="#toc">❦</a>
      <a name="toc"></a>
      <h4 class="toctitle">Contents</h4>
      <div class="tocbody">
      <div><a href="GeoTrellis.html">GeoTrellis</a></div><ol class="toc"> <li><div><a href="GeoTrellis+Resources.html">GeoTrellis Resources</a></div></li><li><div><a href="Web+Service+Tutorial.html">Web Service Tutorial</a></div></li><li><div><a href="Setting+up+GeoTrellis.html">Setting up GeoTrellis</a></div></li><li><div><a href="GeoTrellis+Operations.html">GeoTrellis Operations</a></div><ol class="toc"> <li><div><a href="Raster+Operations.html">Raster Operations</a></div></li><li><div><a href="Logic+and+IO+Operations.html">Logic and IO Operations</a></div></li><li><div><a href="Other+Operations.html">Other Operations</a></div></li> </ol></li><li><div><a href="Creating+new+operations.html">Creating new operations</a></div></li><li><div><a href="Parallel+and+distributed+execution.html">Parallel and distributed execution</a></div></li><li><div class="current">Raster data types and data conversions</div></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div></div>
          </div>
        </div>
        <a class="fork nav" href="http://github.com/azavea/geotrellis"><img alt="Fork me on GitHub" src="img/fork.png"></img></a>
      </body>
    </html>