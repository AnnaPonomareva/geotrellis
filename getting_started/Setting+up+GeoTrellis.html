<html>
      <head>
        <title>GeoTrellis — Setting up GeoTrellis</title>
        <link type="text/css" media="screen, projection" rel="stylesheet" href="css/blueprint/screen.css"></link>
        <link type="text/css" media="screen and (min-device-width: 800px), projection" rel="stylesheet" href="css/blueprint/grid.css"></link>
        <link type="text/css" media="print" rel="stylesheet" href="css/blueprint/print.css"></link> 
        <!--[if lt IE 8]>
          <link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"/>
        <![endif]-->
        <link type="text/css" media="screen, projection" rel="stylesheet" href="css/pamflet.css"></link>
        <link type="text/css" media="print" rel="stylesheet" href="css/pamflet-print.css"></link>
        <link type="text/css" media="screen and (min-device-width: 800px), projection" rel="stylesheet" href="css/pamflet-grid.css"></link>
        <link type="text/css" media="screen, projection" rel="stylesheet" href="css/custom.css"></link>
        <script src="js/jquery-1.6.2.min.js"></script>
        <script src="js/pamflet.js"></script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"></link><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      </head>
      <body>
        <a class="page prev nav" href="Web+Service+Tutorial.html">
            <span class="space">&nbsp;</span>
            <span class="flip">❧</span>
          </a><a class="page next nav" href="Operations.html">
            <span class="space">&nbsp;</span>
            <span>❧</span>
          </a>
        <div class="container">
          <div class="span-16 prepend-1 append-1">
            <div class="top nav span-16 title">
              <span>GeoTrellis</span>
               — Setting up GeoTrellis
            </div>
          </div>
          <div class="span-16 prepend-1 append-1 contents">
            <h2 id="Setting+up+GeoTrellis">Setting up GeoTrellis</h2><h3 id="Configuration">Configuration</h3><p>GeoTrellis has two important configuration files, the application
configuration and the catalog, which defines what geospatial data
is available.
</p><h4 id="Application+configuration">Application configuration</h4><p>The main application configuration allows a variety of system parameters to be set.
The configuration file should be on the classpath of your application: e.g. if using
SBT, create the configuration file at src/main/resources/application.conf.
</p><p>You can also override individual configuration parameters with Java system properties, e.g.
<code>java -Dgeotrellis.port=5555 ...</code>
</p><p>Example:
</p><pre><code class="">geotrellis.host = &quot;0.0.0.0&quot; // IP address to which the server will listen
                         // (0.0.0.0 means listen to all ports)
geotrellis.port = 8888      // The server port 
geotrellis.rest-package = &quot;geotrellis.rest&quot; // The package that will be searched for
                                      // for rest services
geotrellis.tmp = &quot;/tmp&quot;     // A temporary directory to be used for scratch files
</code></pre><h4 id="Data+catalog">Data catalog</h4><p>The data catalog defines what data sources are available to your GeoTrellis server, and
can include metadata about the data in those sources.  Data catalogs are defined as JSON files.  GeoTrellis uses a custom format, ARG (Azavea Raster Grid), to store raster data.  ARG files have companion JSON configuration files which allows a data catalog to automatically
discover and load ARG files that are under a filesystem data directory configured in the
catalog.  For example, the following catalog.json file defines a data directory ”/var/arpeggeo/data” in which any .arg32 files with accompanying .json metadata will be loaded.
</p><pre><code class="prettyprint lang-json">{
 &quot;catalog&quot;: &quot;my-catalog&quot;,
 &quot;stores&quot;: [
  {
   &quot;store&quot;: &quot;data:fs&quot;,
   &quot;params&quot;: {
     &quot;type&quot;: &quot;fs&quot;,
     &quot;path&quot;: &quot;/var/arpeggeo/data&quot;
   }
  }
 ]
}
</code></pre><h3 id="Importing+Raster+Data">Importing Raster Data</h3><p>The most recent development version of GDAL (http://www.gdal.org/) can convert files from most raster formats into the
ARG format.  This is by far the best way to convert data to the ARG format that GeoTrellis uses for raster data.  Please feel
free to ask for advice on the mailing list on installing a recent version of GDAL.  We also have an AMI Ubuntu instance for EC2
with GeoTrellis and a recent version of GDAL installed.
</p><p>While the GDAL method is much more reliable, there is also command line script that you can use in a checkout of the 
geotrellis project to convert raster data in GeoTiff format to the ARG Int32 format.  
<br/>
For example, to convert <code>myraster.tif</code> to <code>myraster.arg</code>, run the <code>start-script</code> sbt task, and then run
the following command in your geotrellis checkout:
</p><pre><code class="prettyprint lang-bash">./geotrellis geotiff_convert -i myraster.tif -n myraster -o myraster.arg
</code></pre><p>The first time you run the script it will download the necessary GeoTrellis libraries to your
system.
</p><p>GeoTrellis has limited support for directly reading and writing GeoTiff ASCII Grid files directly, but you should convert your
data to ARG for use in services.
</p><h4>Contents</h4><div><a href="GeoTrellis.html">GeoTrellis</a></div><ol class="toc"> <li><div><a href="API+Reference.html">API Reference</a></div></li><li><div><a href="Get+started+with+the+template+project.html">Get started with the template project</a></div></li><li><div><a href="Web+Service+Tutorial.html">Web Service Tutorial</a></div></li><li><div class="current">Setting up GeoTrellis</div></li><li><div><a href="Operations.html">Operations</a></div></li><li><div><a href="Creating+new+operations.html">Creating new operations</a></div></li><li><div><a href="Parallel+and+distributed+execution.html">Parallel and distributed execution</a></div></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol>
          </div>
        </div>
        <a class="fork nav" href="http://github.com/azavea/geotrellis"><img alt="Fork me on GitHub" src="img/fork.png"></img></a>
      </body>
    </html>
